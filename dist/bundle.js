(()=>{"use strict";const e=function(){return[{imgSrc:"../Images/dog-collar.png",name:"collar"},{imgSrc:"../Images/dog-collar.png",name:"collar"},{imgSrc:"../Images/dog-food.png",name:"dogFood"},{imgSrc:"../Images/dog-food.png",name:"dogFood"},{imgSrc:"../Images/dog-head.png",name:"dogHead"},{imgSrc:"../Images/dog-head.png",name:"dogHead"},{imgSrc:"../Images/dog.png",name:"dogNormal"},{imgSrc:"../Images/dog.png",name:"dogNormal"},{imgSrc:"../Images/dogSit.png",name:"dogSit"},{imgSrc:"../Images/dogSit.png",name:"dogSit"},{imgSrc:"../Images/dogTongue.png",name:"dogTongue"},{imgSrc:"../Images/dogTongue.png",name:"dogTongue"},{imgSrc:"../Images/dog-colorful.png",name:"dogColorful"},{imgSrc:"../Images/dog-colorful.png",name:"dogColorful"},{imgSrc:"../Images/hot-dog.png",name:"hotDog"},{imgSrc:"../Images/hot-dog.png",name:"hotDog"}]};var t=document.querySelector("section");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var r=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bgMusic=new Audio("../Audio/dogWalk.mp3"),this.flipSound=new Audio("../Audio/flip.mp3"),this.matchSound=new Audio("../Audio/match.mp3"),this.wrongSound=new Audio("../Audio/wrong.mp3"),this.victorySound=new Audio("../Audio/victory.mp3"),this.gameOverSound=new Audio("../Audio/gameOver.mp3"),this.bgMusic.volume=.5,this.bgMusic.loop=!0},(t=[{key:"startMusic",value:function(){this.bgMusic.play()}},{key:"stopMusic",value:function(){this.bgMusic.pause(),this.bgMusic.currentTime=0}},{key:"flip",value:function(){this.flipSound.play()}},{key:"match",value:function(){this.matchSound.play()}},{key:"wrong",value:function(){this.wrongSound.play()}},{key:"victory",value:function(){this.stopMusic(),this.victorySound.play()}},{key:"gameOver",value:function(){this.stopMusic(),this.gameOverSound.play()}}])&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,i}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var u=function(){return e=function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardsArray=i,this.totalTime=t,this.timeRemaining=t,this.timer=document.getElementById("time-remaining"),this.playerLiveCount=document.getElementById("playerLiveCount"),this.audioController=new r},(t=[{key:"startGame",value:function(){var e=this;this.clickedCard=null,this.timeRemaining=this.totalTime,this.playerLives=10,this.matchedCards=[],this.busy=!0,setTimeout((function(){e.audioController.startMusic(),e.countDown=e.startCountDown(),e.busy=!1}),500),this.hideCards(),this.timer.innerText=this.timeRemaining,this.playerLiveCount.innerText=this.playerLives}},{key:"hideCards",value:function(){this.cardsArray.forEach((function(e){e.classList.remove("visible"),e.classList.remove("matched")}))}},{key:"canFlipCard",value:function(e){return!this.busy&&!this.matchedCards.includes(e)&&e!==this.clickedCard}},{key:"flipCard",value:function(e){this.canFlipCard(e)&&(this.audioController.flip(),e.classList.add("visible"),this.clickedCard?this.checkForCardMatch(e):this.clickedCard=e)}},{key:"getCardType",value:function(e){return e.getElementsByClassName("card-value")[0].src}},{key:"checkForCardMatch",value:function(e){this.getCardType(e)===this.getCardType(this.clickedCard)?this.cardMatch(e,this.clickedCard):this.cardMismatch(e,this.clickedCard),this.clickedCard=null}},{key:"cardMatch",value:function(e,t){var i=this;this.matchedCards.push(e),this.matchedCards.push(t),setTimeout((function(){e.classList.add("matched"),t.classList.add("matched"),i.audioController.match()}),300),setTimeout((function(){i.matchedCards.length===i.cardsArray.length&&i.victory()}),1e3)}},{key:"cardMismatch",value:function(e,t){var i=this;this.busy=!0,setTimeout((function(){e.classList.remove("visible"),t.classList.remove("visible"),i.playerLives--,i.playerLiveCount.innerText=i.playerLives,i.audioController.wrong()}),800),setTimeout((function(){0===i.playerLives&&i.gameOver(),i.busy=!1}),1500)}},{key:"startCountDown",value:function(){var e=this;return setInterval((function(){e.timeRemaining--,e.timer.innerText=e.timeRemaining,0===e.timeRemaining&&e.gameOver()}),1e3)}},{key:"victory",value:function(){clearInterval(this.countDown),this.audioController.victory(),document.getElementById("victory-text").classList.add("visible")}},{key:"gameOver",value:function(){clearInterval(this.countDown),this.audioController.gameOver(),document.getElementById("game-over-text").classList.add("visible")}}])&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,i}();function d(){var i;(i=e()).sort((function(){return Math.random()-.5})),i.forEach((function(e){var i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("img"),r=document.createElement("div"),a=document.createElement("img");i.classList.add("card"),n.classList.add("card-back","card-face"),o.classList.add("card-backImg"),r.classList.add("card-front","card-face"),a.classList.add("card-value"),o.src="../Images/cardBack.png",o.setAttribute("alt","backImg-pawBox"),a.src=e.imgSrc,a.setAttribute("alt",e.name),t.appendChild(i),i.appendChild(n),n.appendChild(o),i.appendChild(r),r.appendChild(a)}));var n=Array.from(document.getElementsByClassName("overlay-text")),o=Array.from(document.getElementsByClassName("card")),r=new u(60,o);n.forEach((function(e){e.addEventListener("click",(function(){e.classList.remove("visible"),r.startGame()}))})),o.forEach((function(e){e.addEventListener("click",(function(){r.flipCard(e)}))}))}"loading"==document.readyState?document.addEventListener("DOMContentLoaded",d):d()})();